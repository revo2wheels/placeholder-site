<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pipeline Architecture â€” Unified Prefetch Design | Coach GPT App</title>
  <link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/44225520?v=4" />
  <link rel="stylesheet" href="assets/css/style.css?v=1.8">
</head>

<body>
  <!-- ===================================================
  ğŸ§­ HEADER
  ==================================================== -->
  <header>
    <h1>
      <img src="https://avatars.githubusercontent.com/u/44225520?v=4" alt="App Icon" />
      <a href="https://www.cliveking.net">Coach GPT App</a>
    </h1>
    <nav>
      <a href="https://www.cliveking.net#about">About</a>
      <a href="https://www.cliveking.net#features">Features</a>
      <a href="https://www.cliveking.net#Reports">Reports</a>
      <a href="https://www.cliveking.net#Questions">Questions</a>
      <a href="https://www.cliveking.net#samples">Samples</a>
      <a href="https://www.cliveking.net#coach">Coach</a>
      <a href="https://www.cliveking.net#download">Download</a>
      <a href="https://www.cliveking.net#contact">Contact</a>
      <a href="https://www.cliveking.net/changelog.html">Changelog</a>
      <a href="https://www.cliveking.net/pipeline.html" style="font-weight:bold;color:#38bdf8;">Design</a>
      <a href="https://www.cliveking.net/privacy.html">Privacy</a>
    </nav>
  </header>

  <main>


    <!-- ===================================================
âš™ï¸ CURRENT ARCHITECTURE OVERVIEW
=================================================== -->
    <section class="card">
      <h1>Unified Prefetch Architecture â€” v5.1 Design</h1>
      <p style="text-align:center;max-width:750px;margin:0 auto 2rem;">
        The <strong>Coach GPT App</strong> operates on a deterministic,
        authority-driven architecture separating
        <em>measurement</em>, <em>interpretation</em>, <em>prescription</em>,
        and <em>interface</em>.
        <br><br>
        Data integrity originates from <strong>Intervals.icu</strong>,
        computation executes in Railway, and conversational rendering
        never alters canonical truth.
      </p>
    </section>

    <section class="card" style="border-left:4px solid #22c55e;">
      <h2>ğŸ§  Strategy â€¢ ğŸŸ¢ Technical â€¢ ğŸŸ  Coaching â€¢ ğŸ”µ LLM-Native</h2>

      <p>
        The system is intentionally divided into independent architectural layers,
        each with a single responsibility and defined authority.
      </p>

      <ul>
        <li>
          <strong>ğŸ§  <a href="#strategy">Strategy & Philosophy</a></strong> â€”
          Governing architectural doctrine. Defines authority boundaries and non-negotiable contracts for interpretation.
        </li>

        <li>
          <strong>ğŸŸ¢ <a href="#technical-pipeline">Technical Pipeline</a></strong> â€”
          Deterministic data ingestion, validation, aggregation,
          and semantic serialization (URF v5.1). Immutable canonical outputs.
        </li>

        <li>
          <strong>ğŸŸ  <a href="#coaching-pipeline">Coaching Intelligence Pipeline</a></strong> â€”
          Structural performance modelling (Tier-3), progression analysis,
          and deterministic adaptive prescription logic.
        </li>

        <li>
          <strong>ğŸ”µ <a href="#llm-native-architecture">Future Technical Pipeline</a></strong> â€”
          Model-agnostic conversational layer using MCP tools.
          Renders insights without computing or mutating metrics.
        </li>
      </ul>

      <p style="margin-top:1rem;">
        This separation enforces:
      </p>

      <ul>
        <li><strong>Measurement Integrity</strong></li>
        <li><strong>Transparent Decision Intelligence</strong></li>
        <li><strong>Interface Abstraction Without Authority</strong></li>
      </ul>

      <p>
        Conversational AI is a rendering layer â€” never a computational authority.
      </p>
    </section>

    <!-- ===================================================
ğŸ§  SYSTEM STRATEGY & PHILOSOPHY
=================================================== -->
    <section id="strategy" class="card" style="border-left:4px solid #a855f7;">

      <h2>ğŸ§  System Strategy & Architectural Philosophy</h2>

      <p>
        The Coach GPT App is engineered around strict authority separation.
        No layer may override or recompute another layerâ€™s outputs.
      </p>

      <hr>

      <h3>ğŸ”’ Core Architectural Contract</h3>

      <p>
        <strong>Coaching logic never mutates canonical metrics.</strong><br>
        Tier-1 and Tier-2 outputs are immutable and remain the single source of performance truth.
      </p>

      <ul>
        <li>Measurement is deterministic and audited.</li>
        <li>Interpretation is rule-based and traceable.</li>
        <li>Prescription executes via a deterministic state engine.</li>
        <li>LLMs render outcomes but never compute, infer, or adjust metrics.</li>
      </ul>

      <p>
        This prevents metric drift, silent recomputation,
        probabilistic coaching artifacts, and black-box behavior.
      </p>

      <hr>

      <h3>ğŸ§± Responsibility Separation Model</h3>

      <div class="codeblock" style="font-family:'Courier New',monospace;font-size:0.85rem;overflow-x:auto;">
        <pre>
Measurement    â†’ Technical Pipeline (Tier-0 / Tier-1 / Tier-2)
Interpretation â†’ Coaching Pipeline (Tier-3 Intelligence)
Prescription   â†’ Adaptive Decision Engine (Deterministic Rules)
Interface      â†’ LLM Rendering Layer (Read-Only)
</pre>
      </div>

      <p>
        No single layer owns more than one responsibility.
        This structure enables auditability, stateless execution,
        and predictable system evolution.
      </p>

      <hr>

      <h3>ğŸ¯ Strategic Positioning</h3>

      <p>
        Unlike heuristic AI dashboards or machine-learning coaching engines,
        this system does not invent, infer, or probabilistically manipulate performance metrics.
      </p>

      <ul>
        <li>No hidden state</li>
        <li>No probabilistic coaching inference</li>
        <li>No language-model metric computation</li>
        <li>No silent threshold adjustment</li>
      </ul>

      <p>
        The result is a deterministic performance intelligence platform â€”
        not a black-box AI coach.
      </p>

    </section>


    <section id="technical-pipeline" class="card" style="border-left:4px solid #22c55e;">

      <h2>âš™ï¸ Current Operational Pipeline (Production)</h2>
      <p class="muted">
        Status: <strong>Live</strong> â€¢ Used in production â€¢ Backward compatible
      </p>

      <div class="codeblock"
        style="font-family:'Courier New',monospace;font-size:0.9rem;overflow-x:auto;text-align:center;">
        <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ChatGPT / CLI App     â”‚
â”‚  (Tool invocation layer)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚  HTTPS tool call
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare Worker (Edge)            â”‚
â”‚  â€¢ Auth + routing proxy                      â”‚
â”‚  â€¢ Handles start/end normalization           â”‚
â”‚  â€¢ Prefetches Intervals data â†’ JSON context  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Railway Backend (FastAPI)            â”‚
â”‚  â€¢ Tier-0: Prefetch normalization            â”‚
â”‚     - DataFrame coercion + baseline columns  â”‚
â”‚     - Empty-source detection + AuditHalt     â”‚
â”‚  â€¢ Tier-1: Activity & wellness validation    â”‚
â”‚     - moving_time filtering, zero-checks     â”‚
â”‚  â€¢ Tier-2: Aggregation + enforcement         â”‚
â”‚     - Totals reconciliation, variance checks â”‚
â”‚  â€¢ Outputs URF v5.1 Semantic JSON            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Intervals.icu API        â”‚
â”‚   (authoritative source)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
      </div>
      <p style="text-align:center;margin-top:1rem;">
        ğŸ”„ Cloudflare handles authentication, routing, and optional synthetic testing.<br>
        ğŸš‰ Railway performs full computation, validation, and serialization.
      </p>
    </section>

    <!-- ===================================================
    ğŸ§© CURRENT PIPELINE GUARANTEES
    ==================================================== -->
    <section class="card" style="border-left:4px solid #22c55e;">
      <h2>ğŸ§© Current Architecture Guarantees</h2>
      <table>
        <thead>
          <tr>
            <th>Area</th>
            <th>Implementation</th>
            <th>Guarantee</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Prefetch Flow</td>
            <td>Cloudflare normalizes date params and injects optional test payloads</td>
            <td>Safe staging tests without real data</td>
          </tr>
          <tr>
            <td>Execution Model</td>
            <td>Python execution on Railway (FastAPI + Pandas)</td>
            <td>Deterministic, audited output</td>
          </tr>
          <tr>
            <td>Tier-0 Validation</td>
            <td>Baseline column checks (`moving_time`, `distance`, etc.)</td>
            <td>No schema drift or missing fields</td>
          </tr>
          <tr>
            <td>Tier-1 Audit</td>
            <td>Filters invalid / null activities, computes daily summaries</td>
            <td>Enforced numeric consistency</td>
          </tr>
          <tr>
            <td>Tier-2 Enforcement</td>
            <td>Lock totals, enforce logical consistency</td>
            <td>No variance bleed between scopes</td>
          </tr>
          <tr>
            <td>Serialization</td>
            <td>Single-pass semantic JSON (no float loss)</td>
            <td>Stable numeric precision</td>
          </tr>
          <tr>
            <td>Observability</td>
            <td>Structured logs at all Tier boundaries</td>
            <td>Traceable audit chain (lightâ†’fullâ†’wellness)</td>
          </tr>
          <tr>
            <td>Schema Version</td>
            <td>URF v5.1 unified contracts</td>
            <td>Cross-version compatibility with GPT tool API</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- ===================================================
ğŸ§  LLM-NATIVE ARCHITECTURE
==================================================== -->
    <section id="llm-native-architecture" class="card" style="border-left:4px solid #38bdf8;">

      <h2>ğŸ§  Future Technical Pipeline</h2>

      <table>
        <thead>
          <tr>
            <th>Design Goal</th>
            <th>Implementation</th>
            <th>Guarantee</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Natural Language Interface</td>
            <td>LLMs interact exclusively via MCP tools (no UI state, no clicks)</td>
            <td>Human-like interaction without loss of determinism</td>
          </tr>
          <tr>
            <td>Multi-LLM Compatibility</td>
            <td>MCP-standard tool schemas (OpenAI, Anthropic, Mistral, local models)</td>
            <td>No vendor lock-in; identical outputs across models</td>
          </tr>
          <tr>
            <td>Secure Access Control</td>
            <td>Cloudflare Workers act as MCP + OAuth gateway</td>
            <td>Intervals.icu tokens never exposed to LLMs</td>
          </tr>
          <tr>
            <td>Edge Policy Enforcement</td>
            <td>OAuth scopes, rate limits, and request validation at Cloudflare Edge</td>
            <td>Strong isolation between clients, tools, and athletes</td>
          </tr>
          <tr>
            <td>Execution Engine</td>
            <td>Python services on Railway (FastAPI + Pandas)</td>
            <td>Deterministic, auditable metric computation</td>
          </tr>
          <tr>
            <td>Authoritative Data Source</td>
            <td>Intervals.icu APIs (activities, intervals, FIT-derived data)</td>
            <td>Single source of truth for all training data</td>
          </tr>
          <tr>
            <td>Semantic Contract</td>
            <td>URF v5.1 structured semantic JSON</td>
            <td>LLMs interpret results without recomputation or inference</td>
          </tr>
          <tr>
            <td>Context Integrity</td>
            <td>Explicit context windows (activity, 7d, 90d, rolling)</td>
            <td>No accidental â€œseasonalâ€ or cross-scope mislabeling</td>
          </tr>
          <tr>
            <td>Headless by Design</td>
            <td>No dependency on web UI or dashboards</td>
            <td>Future-proof for voice, agents, automation, and APIs</td>
          </tr>
          <tr>
            <td>Tool-First Expansion</td>
            <td>New capabilities exposed as MCP tools</td>
            <td>Feature growth without breaking existing clients</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- ===================================================
ğŸ§© FUTURE PIPELINE
==================================================== -->

    <section class="card" style="border-left:4px solid #38bdf8;">
      <h2>âš™ï¸ Future Operational Pipeline</h2>
      <p class="muted">
        Status: <strong>Planned</strong> â€¢ Incremental rollout â€¢ No breaking changes
      </p>

      <div class="codeblock"
        style="font-family:'Courier New',monospace;font-size:0.9rem;overflow-x:auto;text-align:center;">
        <pre>

ğŸ§­ System Diagram

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Human / LLM Agent â”‚
â”‚  (Chat, Voice, AI) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚  Natural Language
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MCP Tool Interface (Standard)â”‚
â”‚ â€¢ Typed tool contracts       â”‚
â”‚ â€¢ No UI state                â”‚
â”‚ â€¢ Multi-LLM compatible       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ MCP call
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cloudflare Edge (OAuth + MCP)â”‚
â”‚ â€¢ OAuth token handling       â”‚
â”‚ â€¢ Scope enforcement          â”‚
â”‚ â€¢ Rate limiting              â”‚
â”‚ â€¢ Request normalization      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Authenticated request
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Railway Execution Layer      â”‚
â”‚ (FastAPI + Pandas)           â”‚
â”‚ â€¢ Tier-0 validation          â”‚
â”‚ â€¢ Tier-1 audit               â”‚
â”‚ â€¢ Tier-2 enforcement         â”‚
â”‚ â€¢ Deterministic computation  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Canonical queries
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Intervals.icu APIs           â”‚
â”‚ â€¢ Activities (7d / 90d)      â”‚
â”‚ â€¢ Intervals & FIT-derived    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Structured data
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Semantic JSON (URF v5.1)     â”‚
â”‚ â€¢ Explicit context windows   â”‚
â”‚ â€¢ Locked totals              â”‚
â”‚ â€¢ No recomputation allowed   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ Read-only
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LLM Rendering / Reasoning    â”‚
â”‚ â€¢ Descriptive only           â”‚
â”‚ â€¢ Coach-like narrative       â”‚
â”‚ â€¢ No metric invention        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

</pre>
      </div>
      <p style="text-align:Left;margin-top:1rem;">
        ğŸ”„ Cloudflare handles authentication, routing, and optional synthetic testing.<br>
        ğŸš‰ Railway performs full computation, validation, and serialization.<br>
        ğŸ’¡Independence from LLMs via MCP
      </p>
    </section>

    <section class="card" style="border-left:4px solid #38bdf8;">

      <h2>ğŸ”‘ Key Insights</h2>

      <ul>
        <li>
          <strong>There is no UI state</strong><br>
          Every interaction is stateless, reproducible, and tool-driven.
        </li>

        <li>
          <strong>LLMs never compute metrics</strong><br>
          They only interpret pre-computed, audited semantic JSON.
        </li>

        <li>
          <strong>OAuth tokens never reach the model</strong><br>
          Cloudflare fully isolates authentication from reasoning.
        </li>

        <li>
          <strong>Intervals.icu remains the single source of truth</strong><br>
          All metrics originate from published APIs or FIT-derived data.
        </li>

        <li>
          <strong>Context is explicit, never inferred</strong><br>
          Each metric declares whether it is activity, 7d, 90d, or rolling.
        </li>

        <li>
          <strong>The system is headless by design</strong><br>
          It works equally well for chat, voice, automation, or background agents.
        </li>
      </ul>

      <hr>

      <h2>âš™ï¸ How It Works (End-to-End)</h2>

      <ol>
        <li>
          <strong>User or AI issues a natural-language request</strong><br>
          Example: <em>â€œExplain my weekly intensity balance and recovery status.â€</em>
        </li>

        <li>
          <strong>Request is converted into an MCP tool call</strong>
          <ul>
            <li>Strongly typed inputs</li>
            <li>Explicit report scope (weekly / season / activity)</li>
          </ul>
        </li>

        <li>
          <strong>Cloudflare Edge handles trust and policy</strong>
          <ul>
            <li>OAuth token exchange with Intervals.icu</li>
            <li>Scope validation</li>
            <li>Rate limiting</li>
            <li>Parameter normalization</li>
          </ul>
        </li>

        <li>
          <strong>Railway executes the computation</strong>
          <ul>
            <li>Tier-0: schema + column validation</li>
            <li>Tier-1: numeric consistency and filtering</li>
            <li>Tier-2: locked totals and scope enforcement</li>
            <li>No cross-window leakage (e.g. weekly â‰  seasonal)</li>
          </ul>
        </li>

        <li>
          <strong>Canonical semantic JSON is produced</strong>
          <ul>
            <li>URF v5.1 contract</li>
            <li>Explicit context windows</li>
            <li>Deterministic numeric precision</li>
            <li>No derived ambiguity</li>
          </ul>
        </li>

        <li>
          <strong>LLM renders the report</strong>
          <ul>
            <li>Descriptive, coach-like language</li>
            <li>Anchored strictly to provided semantics</li>
            <li>No recomputation, guessing, or extrapolation</li>
          </ul>
        </li>
      </ol>

      <hr>

      <h2>ğŸ§  Why This Matters</h2>

      <p>
        This architecture enables natural language coaching at scale <strong>without</strong>:
      </p>

      <ul>
        <li>Dashboards</li>
        <li>Sliders</li>
        <li>Charts</li>
        <li>Hidden state</li>
        <li>Silent recomputation</li>
      </ul>

      <p>
        The result is a system that is:
      </p>

      <ul>
        <li>Auditable</li>
        <li>Secure</li>
        <li>Model-agnostic</li>
        <li>Future-proof</li>
        <li>Genuinely conversational</li>
      </ul>

      <p>
        <strong>Natural language becomes the interface â€” not the source of truth.</strong>
      </p>

    </section>

    <section class="card" style="border-left:4px solid #a855f7;">
      <h2>ğŸ” Architectural Continuity</h2>
      <p>
        The future MCP-native architecture does <strong>not</strong> replace the current system.
        It formalizes the same guarantees behind a standard tool interface.
      </p>
      <ul>
        <li>Same Railway execution engine</li>
        <li>Same Tier-0/1/2 enforcement</li>
        <li>Same URF v5.1 semantic contract</li>
        <li>Same Intervals.icu data authority</li>
      </ul>
      <h3>ğŸ¯ Decision Governance</h3>
      <ul>
        <li>The Adaptive Decision Engine is the sole prescriptive authority.</li>
        <li>Tier-2 metrics provide diagnostic context.</li>
        <li>Tier-3 synthesizes capability state.</li>
        <li>LLMs never modify, override, or invent recommendations.</li>
      </ul>
    </section>




    <!-- ===================================================
ğŸ§  COACHING PIPELINE
=================================================== -->
    <section id="coaching-pipeline" class="card" style="border-left:4px solid #f97316;">

      <h2>ğŸ§  Coaching Intelligence Pipeline (Performance Layer)</h2>

      <p class="muted">
        Status: <strong>Evolutionary (v6+)</strong> â€¢ Deterministic â€¢ Rule-based â€¢ No metric recomputation
      </p>

      <p>
        The <strong>Coaching Pipeline</strong> operates strictly on validated canonical data
        produced by the Technical Pipeline. It does <em>not</em> compute raw metrics.
        It transforms trusted semantic inputs into structured performance intelligence
        and deterministic training decisions.
      </p>

      <hr>

      <div class="codeblock"
        style="font-family:'Courier New',monospace;font-size:0.9rem;overflow-x:auto;text-align:center;">
        <pre>
CANONICAL SEMANTIC DATA (URF v5.1)
                â”‚
                â–¼
Tier-3A: Stress Intelligence
(WDRM / ISDM / NDLI)
                â”‚
                â–¼
Tier-3B: Progression Intelligence
(ESPE â€” Energy System Progression)
                â”‚
                â–¼
Adaptive Decision Engine (ADE)
                â”‚
                â–¼
COACHING SEMANTIC LAYER (v6)
                â”‚
                â–¼
Final Structured Report (Athlete + Coach Modes)
</pre>
      </div>

      <hr>

      <h3>ğŸ” Stage 1 â€” Stress Intelligence</h3>
      <p>
        Evaluates how the athlete is expressing training load under fatigue.
      </p>
      <ul>
        <li><strong>WDRM</strong> â€” Anaerobic repeatability and Wâ€² depletion behavior</li>
        <li><strong>ISDM</strong> â€” Durability and fatigue resistance</li>
        <li><strong>NDLI</strong> â€” Neural load density and intensity clustering</li>
      </ul>
      <p>
        Answers: <em>â€œCan the athlete tolerate additional stress?â€</em>
      </p>

      <hr>

      <h3>ğŸ“ˆ Stage 2 â€” Progression Intelligence (ESPE)</h3>
      <p>
        Tracks energy system progression using power curves and structural signals.
      </p>
      <ul>
        <li>Endurance (60min trend)</li>
        <li>Threshold (20min trend)</li>
        <li>VOâ‚‚ Capacity (5min trend)</li>
        <li>Anaerobic Repeatability (1min + Wâ€² behavior)</li>
      </ul>
      <p>
        Answers: <em>â€œIs current training producing adaptation?â€</em>
      </p>

      <hr>

      <h3>ğŸ§­ Stage 3 â€” Adaptive Decision Engine (ADE)</h3>
      <p>
        Applies deterministic, rule-based logic to produce structured prescription guidance.
      </p>

      <div class="codeblock" style="font-family:'Courier New',monospace;font-size:0.85rem;overflow-x:auto;">
        <pre>
IF:
  Neural density high
  AND Repeatability decreasing
  AND FatigueTrend elevated
THEN:
  Reduce VO2 duration 15%
  Convert tempo â†’ endurance
  Insert OFF day
</pre>
      </div>
      <p>
        No GPT improvisation. No hidden logic.
        Rules are executed inside Railway and serialized into the semantic graph.
      </p>
      <hr>

      <h3>ğŸ§  Training State Machine</h3>

      <p>
        All prescription logic is governed by a deterministic training state model.
        The system cannot prescribe progression outside the current state.
      </p>

      <div class="codeblock" style="font-family:'Courier New',monospace;font-size:0.85rem;overflow-x:auto;">
        <pre>
Training State Machine:
  Stable â†’ Progress
  Dense â†’ Absorb
  Strain â†’ Consolidate
  Overreached â†’ Recover
</pre>
      </div>

      <p>
        The state machine governs intensity permission and load progression.
        It ensures Tier-2 diagnostics cannot override Tier-3 state.
      </p>

      <hr>

      <h3>ğŸ“¦ Coaching Semantic Output (v6)</h3>

      <div class="codeblock" style="font-family:'Courier New',monospace;font-size:0.85rem;overflow-x:auto;">
        <pre>
adaptive_layer:
  readiness_state
  progression_state
  neural_state
  durability_state
  prescription_adjustment
</pre>
      </div>

      <p>
        This structured block feeds both:
      </p>
      <ul>
        <li><strong>Athlete Mode</strong> â€” Clear readiness + next action</li>
        <li><strong>Coach Mode</strong> â€” Deep structural diagnostics</li>
      </ul>

      <hr>

      <h3>ğŸ” Architectural Guarantees</h3>
      <ul>
        <li><strong>No recomputation</strong> of canonical metrics</li>
        <li><strong>No mutation</strong> of Tier-1 or Tier-2 outputs</li>
        <li><strong>No hidden state</strong> â€” fully stateless execution</li>
        <li><strong>No LLM authority</strong> over prescription logic</li>
      </ul>

      <p>
        The Coaching Pipeline interprets â€” it never invents.
      </p>

    </section>



    <!-- ===================================================
ğŸ“¬ CONTACT SECTION
=================================================== -->
    <section id="contact">
      <div class="card">
        <h2>ğŸ“¬ Contact</h2>
        <p>
          For integration, customization, or coaching inquiries, connect via
          GitHub link below or DM via
          <a href="https://intervals.icu/athlete/1914741" target="_blank">Intervals.icu DM</a> and contribute in
          <a href="https://forum.intervals.icu/t/yet-another-ai-chatgpt-coach/117856" target="_blank">Intervals.icu
            Forum</a>.
        </p>

        <a href="https://github.com/revo2wheels/intervalsicugptcoach-public" target="_blank" class="github-button">
          <svg viewBox="0 0 16 16" aria-hidden="true">
            <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8a8 8 0 005.47 7.59c.4.07.55-.17.55-.38
                 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94
                 -.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21
                 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95
                 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21
                 2.2.82a7.6 7.6 0 012-.27c.68 0 1.36.09 2 .27 1.53-1.04
                 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82
                 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54
                 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38A8.01 8.01 0
                 0016 8c0-4.42-3.58-8-8-8z" />
          </svg>
          <strong>github.com/revo2wheels</strong>
        </a>
        <p class="muted" style="margin-top:1rem; text-align:Left;">
          Built with â¤ï¸ for endurance athletes â€” by <strong>Clive King</strong>.<br>
          Powered by <a href="https://intervals.icu" target="_blank">Intervals.icu</a>, Cloudflare and the <a
            href="https://railway.com?referralCode=-xO_3x">Railway</a> Engine.
        </p>
      </div>
    </section>
    <!-- ===================================================
ğŸ¦¶ FOOTER
=================================================== -->
    <footer id="footer">
      <p>
        Â© 2026 Coach GPT App â€” Data-driven endurance intelligence.<br>
        Powered by <a href="https://intervals.icu" target="_blank">Intervals.icu</a>
        and the <a href="https://railway.com?referralCode=-xO_3x">Railway</a> Engine.
      </p>
      <a href="/privacy.html">Privacy & GDPR</a>

    </footer>
</body>
<!-- ===================================================
â¬†ï¸ FLOATING BACK TO TOP BUTTON
=================================================== -->
<a href="#top" id="backTop" title="Back to top">â¬†</a>

<script>
  window.addEventListener("scroll", () => {
    const btn = document.getElementById("backTop");
    btn.style.display = (window.scrollY > 400) ? "block" : "none";
  });
</script>

</html>