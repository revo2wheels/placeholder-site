<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changelog â€” Coach GPT App (v5.1.x)</title>
  <link rel="icon" type="image/png" href="https://avatars.githubusercontent.com/u/44225520?v=4" />
  <link rel="stylesheet" href="assets/css/style.css?v=1.7">
</head>

<body>
<header>
  <h1>
    <img src="https://avatars.githubusercontent.com/u/44225520?v=4" />
    <a href="https://www.cliveking.net">Coach GPT App</a>
  </h1>
  <nav>
    <a href="/">Home</a>
    <a href="/pipeline.html">Design</a>
    <a href="/changelog.html" style="font-weight:bold;color:#38bdf8;">Changelog</a>
  </nav>
</header>

<main>

<section class="card">
  <h1>ðŸš€ Product Changelog â€” v5.1</h1>
  <p>
    Every micro-version (<code>v5.1.xx</code>) below maps directly to a closed
    <strong>Enhancement</strong> issue in GitHub.
    This page updates automatically when engineering ships.
  </p>
</section>

<section class="card">
  <h2>ðŸ§  Whatâ€™s New (Live)</h2>
  <p id="headline">Loadingâ€¦</p>
  <ul id="rollup"></ul>
</section>

<section class="card">
  <h2>ðŸ§¾ Full Enhancement Log</h2>
  <div id="changelog">Loading changelogâ€¦</div>
</section>

</main>

<footer>
  <p>&copy; 2026 Clive King Â· Coach GPT App</p>
</footer>
<script>
const API = "https://changelogintervalsicugptcoach.clive-a5a.workers.dev/changelog";

fetch(API)
  .then(r => r.json())
  .then(data => {
    const entries = data.changelog.slice().reverse();   // newest first

    // === HEADLINE ===
    const headline = entries.slice(0, 3).map(e => e.title).join(" â€¢ ");
    document.getElementById("headline").innerText =
      "Recent upgrades: " + headline;

    // === ROLLUP LIST ===
    const rollup = document.getElementById("rollup");
    rollup.innerHTML = "";
    entries.slice(0, 6).forEach(e => {
      const li = document.createElement("li");
      li.innerHTML = `<strong>${e.version}</strong> â€” ${e.title}`;
      rollup.appendChild(li);
    });

    // === FULL LOG ===
    const root = document.getElementById("changelog");
    root.innerHTML = "";

    entries.forEach(e => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <h3>${e.version}</h3>
        <p><strong>${e.title}</strong></p>
        <p style="color:#777">${e.date}</p>
        <p><a href="${e.url}" target="_blank">View on GitHub</a></p>
      `;
      root.appendChild(div);
    });
  })
  .catch(err => {
    document.getElementById("changelog").innerText =
      "Unable to load live changelog.";
  });
</script>



</body>
</html>
